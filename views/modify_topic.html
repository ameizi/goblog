{{template "header"}}
<title>{{.Title}}</title>
<script type="text/javascript" src="/static/js/marked.js"></script>
<script type="text/javascript" src="/static/js/editor.js"></script>    
</head>
<body>
    {{template "nav" .}}
    <div class="container">
        <h1 class="text-center">{{.Title}}</h1>
        {{template "msgbox" .}}
        {{with .Topic}}
        <form role="form" method="post" action="/topic/modify/{{.Id}}" class="form-horizontal">
            <input type="hidden" name="id" value="{{.Id}}" />
            <div class="form-group">
                <label class="col-sm-2 control-label">标题</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" placeholder="请输入标题" name="title" required value="{{.Title}}">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">分类</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" placeholder="请输入分类" name="category" required value="{{.Category}}">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">内容</label>
                <div class="col-sm-10">
                    <textarea class="form-control" rows="10" placeholder="请输入内容" name="content"></textarea>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-primary">修改</button>
                    <a class="btn btn-default" href="/topic/view/{{.Id}}">取消</a>
                </div>
            </div>
        </form>
        <script type="text/javascript">
        (function(){
            var editor = new Editor();
            $('textarea').val({{.Content}})
            editor.render();
        })();
        </script>
        {{end}}
    </div>
{{template "footer"}}